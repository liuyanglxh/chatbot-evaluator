# Correctness评估器测试数据集

## 📊 测试数据概览

**总计**: 15条测试数据
**覆盖**: 1-5分的评分标准，每个分数3条数据
**领域**: 保险业务场景
**创建时间**: 2025-01-23

---

## 🎯 评分标准对照

### 1分（0.0-0.2）：完全不一致或语义相反

**标准**: 期望答案与实际答案描述的事实完全不一致或语义相反

#### 测试数据

**1. 1分-主题完全不同（保险vs旅游）**
- **问题**: 什么是车险理赔流程？
- **期望答案**: 车险理赔流程包括：1. 发生事故后立即报案（48小时内） 2. 保护现场等待交警处理 3. 收集理赔材料（事故认定书、维修发票等） 4. 提交理赔申请 5. 保险公司审核（3-5个工作日） 6. 赔款到账
- **实际答案**: 旅游是一种放松身心的活动，可以选择去海边、山区或者城市观光。建议提前规划好行程，预订好酒店和机票。
- **说明**: 问题问的是车险理赔，回答说的是旅游，完全答非所问

---

**2. 1分-语义相反（允许vs不允许）**
- **问题**: 这个保险支持电子保单吗？
- **期望答案**: 该保险产品完全支持电子保单，客户可以通过手机APP、微信小程序或官网下载和查看电子保单，电子保单与纸质保单具有同等法律效力。
- **实际答案**: 很抱歉，该保险产品完全不支持电子保单，必须使用纸质保单，任何电子形式的保单都不被认可。
- **说明**: 期望答案是"支持"，实际答案是"不支持"，语义完全相反

---

**3. 1分-完全无关（理赔vs投保）**
- **问题**: 如何进行保险理赔？
- **期望答案**: 保险理赔流程：1. 发生事故后立即拨打保险公司电话报案 2. 拍摄现场照片 3. 等待查勘员到达现场 4. 提交理赔材料 5. 等待审核结果 6. 收到赔款
- **实际答案**: 投保时需要准备身份证、驾驶证、行驶证等材料，填写投保单，选择保险方案，支付保费后即可完成投保。
- **说明**: 问题问的是理赔，回答说的是投保，完全答非所问

---

### 2分（0.2-0.4）：稍有相近但细节不一致

**标准**: 期望答案与实际答案描述的事实稍有相近，但具体的细节不一致（数值不一致、日期不一致等）

#### 测试数据

**4. 2分-数值不一致（25vs26元）**
- **问题**: 这个保险的手续费是多少？
- **期望答案**: 该保险产品需要支付25元的手续费，在投保时一次性收取。
- **实际答案**: 该保险产品需要支付26元的手续费。
- **说明**: 主题正确，但具体数值错误（25元 vs 26元）

---

**5. 2分-日期不一致（7月10日vs7月11日）**
- **问题**: 保险的生效日期是什么时候？
- **期望答案**: 保险将于2025年07月10日正式生效，生效后即可享受保障。
- **实际答案**: 保险将于2025年07月11日正式生效。
- **说明**: 主题正确，但具体日期错误（7月10日 vs 7月11日）

---

**6. 2分-比例不一致（80%vs85%）**
- **问题**: 车险的赔付比例是多少？
- **期望答案**: 在发生事故时，保险公司会承担80%的损失费用，剩余20%由车主自行承担。
- **实际答案**: 在发生事故时，保险公司会承担85%的损失费用，剩余15%由车主自行承担。
- **说明**: 主题正确，但具体比例错误（80% vs 85%）

---

### 3分（0.4-0.6）：勉强一致但细节不足

**标准**: 期望答案与实际答案描述的事实勉强一致，但细节不足

#### 测试数据

**7. 3分-流程细节不足（3步vs1步）**
- **问题**: 车险报案流程是什么？
- **期望答案**: 车险报案流程包括：1. 发生事故后立即拨打保险公司报案电话（24小时服务） 2. 提供事故基本信息（时间、地点、人物） 3. 上传现场照片 4. 等待查勘员联系 5. 配合现场查勘
- **实际答案**: 车险报案流程是：发生事故后立即向保险公司报案。
- **说明**: 事实基本一致，但实际答案只提到1步，缺少其他重要步骤

---

**8. 3分-信息过于简略（完整材料vs简单提及）**
- **问题**: 理赔需要准备哪些材料？
- **期望答案**: 理赔需要准备以下材料：1. 事故责任认定书（交警出具） 2. 维修发票和清单 3. 驾驶证和行驶证复印件 4. 保险单号 5. 被保险人身份证 6. 银行账户信息（用于接收赔款）
- **实际答案**: 理赔时需要准备一些基本证件和证明材料。
- **说明**: 事实基本一致，但实际答案过于笼统，没有列出具体材料

---

**9. 3分-金额范围模糊（具体金额vs模糊表述）**
- **问题**: 最高赔付金额是多少？
- **期望答案**: 该保险产品的最高赔付金额为50万元人民币，超过部分不在赔付范围内。
- **实际答案**: 最高赔付金额在几十万元左右。
- **说明**: 事实基本一致，但实际答案使用模糊表述，不够精确

---

### 4分（0.6-0.8）：事实一致但词汇相近

**标准**: 期望答案与实际答案描述的事实一致，只是描述的词汇相近，但表达意思完全一致

#### 测试数据

**10. 4分-同义词替换（费用vs价格）**
- **问题**: 这个保险的费用是多少？
- **期望答案**: 该保险的费用是每年365元，按年支付。
- **实际答案**: 该保险的价格是每年365元。
- **说明**: 事实完全一致，"费用"和"价格"是同义词，表达意思相同

---

**11. 4分-近似表达（支持vs可以办理）**
- **问题**: 支持退保吗？
- **期望答案**: 该保险支持退保，投保人可以在任何时间申请退保，退保时将根据保单持有时间退还相应保费。
- **实际答案**: 该保险可以办理退保手续。
- **说明**: 事实完全一致，"支持"和"可以办理"表达意思相同

---

**12. 4分-相似措辞（生效时间vs起效日期）**
- **问题**: 保险的生效时间是多久？
- **期望答案**: 保险的生效时间是投保成功后次日零点开始计算，保障期限为一年。
- **实际答案**: 保险的起效日期是投保后次日零点开始计算。
- **说明**: 事实完全一致，"生效时间"和"起效日期"表达意思相同

---

### 5分（0.8-1.0）：完全一致

**标准**: 期望答案与实际答案描述的事实完全一致，内容十分一致

#### 测试数据

**13. 5分-完全一致（保险退费流程）**
- **问题**: 保险退费流程是什么？
- **期望答案**: 保险退费流程：1. 填写退费申请表 2. 提交身份证明 3. 提供银行账户信息 4. 等待审核（5-7个工作日） 5. 退费到账
- **实际答案**: 保险退费流程如下：1. 填写退费申请表 2. 提交身份证明 3. 提供银行账户信息 4. 等待审核（5-7个工作日） 5. 退费到账。
- **说明**: 内容完全一致，只是多了一个"如下"的连接词

---

**14. 5分-内容完全一致（理赔材料）**
- **问题**: 理赔时需要提交哪些材料？
- **期望答案**: 理赔时需要提交：1. 事故责任认定书 2. 维修发票 3. 驾驶证和行驶证 4. 保险单号 5. 身份证 6. 银行账户信息
- **实际答案**: 理财时需要提交：1. 事故责任认定书 2. 维修发票 3. 驾驶证和行驶证 4. 保险单号 5. 身份证 6. 银行账户信息。
- **说明**: 内容完全一致，只是标点符号略有不同

---

**15. 5分-完全准确（保障范围）**
- **问题**: 这个保险的保障范围包括哪些？
- **期望答案**: 该保险的保障范围包括：车辆损失险、第三者责任险、车上人员责任险、盗抢险、玻璃破碎险、自燃损失险、不计免赔险
- **实际答案**: 该保险的保障范围包括：车辆损失险、第三者责任险、车上人员责任险、盗抢险、玻璃破碎险、自燃损失险、不计免赔险。
- **说明**: 内容完全一致，只是结尾有句号差异

---

## 📈 预期评估结果

### 应该通过的数据（阈值0.6）

**5分数据**（预期得分 0.8-1.0）：
- ✅ 5分-完全一致（保险退费流程）
- ✅ 5分-内容完全一致（理赔材料）
- ✅ 5分-完全准确（保障范围）

**4分数据**（预期得分 0.6-0.8）：
- ✅ 4分-同义词替换（费用vs价格）
- ✅ 4分-近似表达（支持vs可以办理）
- ✅ 4分-相似措辞（生效时间vs起效日期）

### 可能失败的数据（阈值0.6）

**3分数据**（预期得分 0.4-0.6）：
- ❌ 3分-流程细节不足（3步vs1步）
- ❌ 3分-信息过于简略（完整材料vs简单提及）
- ❌ 3分-金额范围模糊（具体金额vs模糊表述）

**2分数据**（预期得分 0.2-0.4）：
- ❌ 2分-数值不一致（25vs26元）
- ❌ 2分-日期不一致（7月10日vs7月11日）
- ❌ 2分-比例不一致（80%vs85%）

**1分数据**（预期得分 0.0-0.2）：
- ❌ 1分-主题完全不同（保险vs旅游）
- ❌ 1分-语义相反（允许vs不允许）
- ❌ 1分-完全无关（理赔vs投保）

---

## 🚀 使用方法

### 1. 通过脚本添加

```bash
cd evaluator_gui
python add_correctness_test_data.py
```

### 2. 通过界面添加

1. 启动程序：`python main.py`
2. 点击"测试数据管理"
3. 点击"💾 保存"按钮
4. 逐条输入上述测试数据

---

## 📊 测试建议

### 评估前准备

1. **添加Correctness评估器**
   - 框架：DeepEval
   - 类型：GEval (Custom)
   - 阈值：0.6
   - 评估标准：使用提供的详细标准

2. **测试数据已就绪**
   - 15条测试数据已添加到系统中
   - 覆盖1-5分的所有情况

### 执行评估

1. 点击"执行评估"
2. 选择"Correctness评估器"
3. 逐条选择测试数据执行评估
4. 观察得分是否符合预期

### 验证评估器准确性

**预期结果**：
- ✅ 5分和4分数据应该通过（得分 ≥ 0.6）
- ❌ 3分、2分、1分数据应该失败（得分 < 0.6）

**如果结果不符合预期**：
- 检查评估标准是否足够清晰
- 调整阈值设置
- 优化评估标准的表述

---

## 🎯 测试数据设计原则

1. **覆盖全面**: 覆盖1-5分的所有评分等级
2. **场景真实**: 使用保险业务的真实场景
3. **区分明显**: 每个分数等级之间有明显差异
4. **易于理解**: 数据名称清晰说明测试点
5. **可重复性**: 每个标准有3条数据，提高测试可靠性

---

## 📝 数据维护

### 添加更多测试数据

如需添加更多测试数据，可以参考`add_correctness_test_data.py`脚本，按照相同格式添加：

```python
test_data_list.append({
    "name": "X分-描述",
    "question": "问题内容",
    "answer": "实际答案",
    "context": "期望答案"
})
```

### 删除测试数据

1. 打开"测试数据管理"
2. 勾选要删除的数据
3. 点击"🗑 批量删除"

---

## 📁 相关文件

- **添加脚本**: `add_correctness_test_data.py`
- **配置文件**: `~/Library/Application Support/llm_evaluator/test_data.json` (macOS)
- **评估器配置**: 需要手动添加Correctness评估器

---

**创建时间**: 2025-01-23
**数据量**: 15条
**覆盖率**: 100%（1-5分全覆盖）
**状态**: ✅ 已添加到系统
